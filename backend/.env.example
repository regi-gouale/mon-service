# =============================================================================
# Backend Environment Configuration
# Copy this file to .env and fill in the values
# =============================================================================

# -----------------------------------------------------------------------------
# Application
# -----------------------------------------------------------------------------
APP_NAME="Church Team Management API"
APP_VERSION="0.1.0"
APP_ENV=development
DEBUG=true
API_V1_PREFIX=/api/v1

# -----------------------------------------------------------------------------
# Security (REQUIRED - Generate with: openssl rand -hex 32)
# -----------------------------------------------------------------------------
SECRET_KEY=your-super-secret-key-change-in-production-must-be-at-least-32-chars

# -----------------------------------------------------------------------------
# Server
# -----------------------------------------------------------------------------
HOST=0.0.0.0
PORT=8000
WORKERS=1
RELOAD=true

# -----------------------------------------------------------------------------
# Database (PostgreSQL)
# -----------------------------------------------------------------------------
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_USER=church_team
POSTGRES_PASSWORD=church_team_dev
POSTGRES_DB=church_team_db
DATABASE_URL=postgresql+asyncpg://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}
DATABASE_POOL_SIZE=5
DATABASE_MAX_OVERFLOW=10
DATABASE_ECHO=false

# -----------------------------------------------------------------------------
# Redis (Cache, Sessions, Celery Broker)
# -----------------------------------------------------------------------------
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_URL=redis://${REDIS_HOST}:${REDIS_PORT}/0
REDIS_MAX_CONNECTIONS=10

# -----------------------------------------------------------------------------
# Celery (Async Task Queue)
# -----------------------------------------------------------------------------
CELERY_BROKER_URL=redis://${REDIS_HOST}:${REDIS_PORT}/1
CELERY_RESULT_BACKEND=redis://${REDIS_HOST}:${REDIS_PORT}/2
CELERY_TASK_ALWAYS_EAGER=false
CELERY_TASK_TIME_LIMIT=300

# -----------------------------------------------------------------------------
# JWT Authentication
# -----------------------------------------------------------------------------
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=15
REFRESH_TOKEN_EXPIRE_DAYS=7

# -----------------------------------------------------------------------------
# OAuth2 (Google)
# -----------------------------------------------------------------------------
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret
GOOGLE_REDIRECT_URI=http://localhost:3000/api/auth/callback/google

# -----------------------------------------------------------------------------
# Email (SMTP - Mailpit for development)
# -----------------------------------------------------------------------------
SMTP_HOST=localhost
SMTP_PORT=1025
SMTP_USER=
SMTP_PASSWORD=
SMTP_TLS=false
SMTP_SSL=false
SMTP_FROM_NAME="Church Team Management"
SMTP_FROM_EMAIL=noreply@example.com

# -----------------------------------------------------------------------------
# File Storage (S3 Compatible - MinIO for development)
# -----------------------------------------------------------------------------
S3_ENDPOINT_URL=http://localhost:9000
S3_ACCESS_KEY=minioadmin
S3_SECRET_KEY=minioadmin123
S3_BUCKET_NAME=church-team-files
S3_REGION=eu-west-1
S3_USE_SSL=false

# -----------------------------------------------------------------------------
# CORS
# -----------------------------------------------------------------------------
CORS_ORIGINS=http://localhost:3000,http://127.0.0.1:3000
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS=*
CORS_ALLOW_HEADERS=*

# -----------------------------------------------------------------------------
# Rate Limiting
# -----------------------------------------------------------------------------
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_AUTH_PER_MINUTE=10

# -----------------------------------------------------------------------------
# Logging
# -----------------------------------------------------------------------------
LOG_LEVEL=DEBUG
LOG_FORMAT=json

# -----------------------------------------------------------------------------
# Sentry (Error Tracking - Optional)
# -----------------------------------------------------------------------------
SENTRY_DSN=
SENTRY_ENVIRONMENT=development

# -----------------------------------------------------------------------------
# Feature Flags
# -----------------------------------------------------------------------------
FEATURE_OAUTH_GOOGLE=true
FEATURE_WEBSOCKETS=true
FEATURE_EMAIL_NOTIFICATIONS=true

# -----------------------------------------------------------------------------
# Seed Data (for initial testing)
# -----------------------------------------------------------------------------
SEED_ADMIN_PASSWORD=admin123
SEED_MANAGER_PASSWORD=manager123
SEED_MEMBER_PASSWORD=member123
SEED_GUEST_PASSWORD=guest123
